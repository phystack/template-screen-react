# Architecture Documentation

This directory contains architecture documents generated by `/setup` and maintained during development.

## Documents

### screen-flow.md
Mermaid state diagram showing all screens and transitions. Includes session lifecycle (idle → active → complete → idle), user-triggered transitions, and timeout-based transitions.

Updated when: New screens are added or flow changes during `/feature` implementation.

### settings-schema-design.md
Complete plan for the settings schema (`src/schema.ts`). Documents all settings groups, types, JSDoc annotations, widget hints, and default values. This is the blueprint that the schema-developer agent uses.

Updated when: New settings are added or schema structure changes.

### signals-plan.md
Analytics events plan. Documents all signals (events) the app will emit, when they fire, and what data they carry. Maps to `src/analytics-schema.ts` dashboard configuration.

Updated when: New trackable events are added during feature implementation.

## Relationship to Design Docs

Architecture docs and design docs (`docs/design/`) serve complementary purposes:

- **Architecture** = **system perspective** — state machines, data flow, schema structure, signal events. Describes how the system works internally.
- **Design** = **user perspective** — what users see, touch, and experience. Wireframes, interaction flows, accessibility requirements.

For example, both may include a state diagram, but:
- `docs/architecture/screen-flow.md` shows system states and transitions (including internal states the user doesn't see)
- `docs/design/interaction-flows.md` shows user journeys (what the user does and sees at each step)

When implementing, consult both: architecture for system correctness, design for user experience.

## Format

All architecture docs use Mermaid diagrams where applicable and are written to be consumed by both humans and AI agents. They serve as the bridge between the PRD (what to build) and the code (how it's built).
